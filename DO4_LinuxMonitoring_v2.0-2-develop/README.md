# File System & Monitoring Automation Scripts

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ (–∞ —Ç–∞–∫–∂–µ, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ C), —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–∞ –∑–∞–¥–∞—á –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤, –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞–≥—Ä—É–∑–∫–∏, –∞–Ω–∞–ª–∏–∑—É –ª–æ–≥–æ–≤ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É —Å–∏—Å—Ç–µ–º—ã. –ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–µ–≤—è—Ç–∏ —á–∞—Å—Ç–µ–π, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏: –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ Prometheus –∏ Grafana.

## üìå –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- **Part 1. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤** ‚Äì –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏.
- **Part 2. –ó–∞—Å–æ—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã** ‚Äì –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–∞–ø–∫–∞–º–∏ –∏ —Ñ–∞–π–ª–∞–º–∏ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –ø—É—Ç–µ–π, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö `bin` –∏–ª–∏ `sbin`).
- **Part 3. –û—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã** ‚Äì –°–∫—Ä–∏–ø—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤ Part 2 –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç—Ä—ë—Ö —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤.
- **Part 4. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–æ–≤** ‚Äì –ü—Ä–æ–≥—Ä–∞–º–º–∞ (bash-—Å–∫—Ä–∏–ø—Ç –∏–ª–∏ –Ω–∞ C) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ 5 –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ nginx –≤ —Ñ–æ—Ä–º–∞—Ç–µ combined, –ø–æ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É –Ω–∞ –¥–µ–Ω—å.
- **Part 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äì –°–∫—Ä–∏–ø—Ç –Ω–∞ bash, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π `awk` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤ nginx —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ –≤—ã–≤–æ–¥–∞.
- **Part 6. GoAccess** ‚Äì –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã GoAccess –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
- **Part 7. Prometheus –∏ Grafana** ‚Äì –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Prometheus –∏ Grafana, –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.
- **Part 8. –ì–æ—Ç–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥** ‚Äì –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ Grafana (Node Exporter Quickstart and Dashboard) –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –Ω–∞–≥—Ä—É–∑–∫—É —Å–µ—Ç–∏.
- **Part 9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –°–≤–æ–π node_exporter** ‚Äì –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä—â–∏–∫–∞ –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã (CPU, RAM, –∂—ë—Å—Ç–∫–∏–π –¥–∏—Å–∫) —Å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus, –æ–±—Å–ª—É–∂–∏–≤–∞–µ–º–æ–π nginx.

---

## üîç –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

### üìÅ Part 1. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
./main.sh /opt/test 4 az 5 az.az 3kb
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏.
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (<1 –ì–ë).
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

---

### üóëÔ∏è Part 2. –ó–∞—Å–æ—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

**–¶–µ–ª—å:** –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –ø–∞–ø–∫–∞–º–∏ –∏ —Ñ–∞–π–ª–∞–º–∏ –≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö (–∫—Ä–æ–º–µ `bin` –∏ `sbin`).

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
./main.sh az az.az 3Mb
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫ —Å –≥–ª—É–±–∏–Ω–æ–π –¥–æ 100 —É—Ä–æ–≤–Ω–µ–π.
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –º–µ—Å—Ç–∞.
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π.

---

### üßπ Part 3. –û—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

**–¶–µ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å–∫—Ä–∏–ø—Ç, —É–¥–∞–ª—è—é—â–∏–π –æ–±—ä–µ–∫—Ç—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ Part 2, —Å —Ç—Ä–µ–º—è –º–µ—Ç–æ–¥–∞–º–∏:
1. –ü–æ –ª–æ–≥-—Ñ–∞–π–ª—É.
2. –ü–æ –¥–∞—Ç–µ –∏ –≤—Ä–µ–º–µ–Ω–∏.
3. –ü–æ –º–∞—Å–∫–µ –∏–º–µ–Ω–∏.

**–ó–∞–ø—É—Å–∫:**
```bash
./cleanup.sh <–º–µ—Ç–æ–¥>
```

---

### üìù Part 4. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–æ–≤

**–¶–µ–ª—å:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 5 –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ nginx (combined —Ñ–æ—Ä–º–∞—Ç).

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: 100‚Äì1000 –Ω–∞ —Ñ–∞–π–ª.
- –°–ª—É—á–∞–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: IP-–∞–¥—Ä–µ—Å–∞, HTTP-–º–µ—Ç–æ–¥—ã, –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤ (200, 201, 400, 401, 403, 404, 500, 501, 502, 503), User-Agent.

---

### üìä Part 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `awk` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤.

**–ó–∞–ø—É—Å–∫:**
```bash
./monitoring.sh <—Ä–µ–∂–∏–º>
```
- 1 ‚Äì –í—Å–µ –∑–∞–ø–∏—Å–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–¥—É –æ—Ç–≤–µ—Ç–∞.
- 2 ‚Äì –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞.
- 3 ‚Äì –ó–∞–ø—Ä–æ—Å—ã —Å –æ—à–∏–±–∫–∞–º–∏ (4xx –∏ 5xx).
- 4 ‚Äì –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP —Å—Ä–µ–¥–∏ –æ—à–∏–±–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

---

### üìà Part 6. GoAccess

**–¶–µ–ª—å:** –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ —Å –ø–æ–º–æ—â—å—é GoAccess.

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å GoAccess.
2. –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

### üî¨ Part 7. Prometheus –∏ Grafana

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã.

**–ó–∞–¥–∞—á–∏:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Prometheus –∏ Grafana.
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫: CPU, RAM, –¥–∏—Å–∫, I/O.
- –ü—Ä–æ–≤–µ—Å—Ç–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (`stress`).

---

### üìä Part 8. –ì–æ—Ç–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥ Grafana

**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ Grafana.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —Å `iperf3`.
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

---

### üîÑ Part 9. –°–≤–æ–π node_exporter

**–¶–µ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä—â–∏–∫–∞ –º–µ—Ç—Ä–∏–∫.

**–ú–µ—Ç—Ä–∏–∫–∏:**
- CPU, RAM, –∂—ë—Å—Ç–∫–∏–π –¥–∏—Å–∫.
- –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus —á–µ—Ä–µ–∑ nginx.

---


## ‚öôÔ∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Linux (bash)
- **–£—Ç–∏–ª–∏—Ç—ã:** `df`, `awk`, `md5sum`, `stress`, `GoAccess`, `Prometheus`, `Grafana`, `iperf3`
- **Bash:** 4.x –∏ –≤—ã—à–µ
- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä:** `gcc` (–¥–ª—è C-–ø—Ä–æ–≥—Ä–∞–º–º)
- **–í–µ–±-—Å–µ—Ä–≤–µ—Ä:** nginx (–¥–ª—è Part 9)

---

## üìå –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (Parts 1 & 2):**
   ```bash
   ./main.sh <params>
   ```
2. **–û—á–∏—Å—Ç–∫–∞ (Part 3):**
   ```bash
   ./cleanup.sh <–º–µ—Ç–æ–¥>
   ```
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ (Part 4):**
   ```bash
   ./log_generator.sh
   ```
4. **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ (Part 5):**
   ```bash
   ./monitoring.sh <—Ä–µ–∂–∏–º>
   ```
5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Part 7 & 8):**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Prometheus –∏ Grafana
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `prometheus.yml`
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node_exporter`

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**.

